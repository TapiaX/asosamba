;HU1 : ver si samba esta instalado
; devuelve 1 si no esta instalado, mayor a 1 si lo esta  
rpm -Vv py | wc -l

;HU2 : comprobar el estado del servicio samba
;devuelve inactive o active
service smb status | awk 'NR==3' | awk '{print $2}'

;HU3 configurar el parametro workgroup
vi /etc/samba/smb.conf -c +/workgroup +":s/.*/workgroup = NUEVO/" +:wq


;HU4: cargar la configuraciÃ³n actual de recursos compartidos
testparm -s

;HU5 agregar nuevo recurso compartido para compartir archivos ya sea escritura o lectura


;HU6: editar un recurso compartido para cambiar lectura/escritura o directorio
;lista de recursos
testparm -s | grep ] | sed 's/^.//;s/.$//' 
;informacion de un recurso
testparm -s | sed -e '/SIGUIENTE/,$d' | sed -s -n '/RECURSO/,$p'


;lectura/escritura
vi /etc/samba/smb.conf -c +/RECURSO] +"/read only" +":s/.*/read only = yes/" +:wq

;directorio
vi /etc/samba/smb.conf -c +/RECURSO] +"/path" +":s#.*#path = nuevo/dir#" +:wq

;HU7: borrar un recurso compartido 
	
testparm -s | sed -e '/RECURSO/,$d'> borrando
testparm -s | sed -s -n '/SIGUIENTE/,$p' >> borrando
cp borrando /etc/samba/smb.conf

;HU8: renombrar un recurso compartido
vi /etc/samba/smb.conf -c +/nombre] +":s/.*/[nuevo]/" +:wq


;FALTA PROBAR
;para recargar las configuraciones en HU3,5,6,7,8,9
;opcion 1
smbcontrol all reload-config

;opcion 2
service smb restart

;opcion3
systemctl stop smb nmb
systemctl start nmb smb


